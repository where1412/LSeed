webpackJsonp([0],[
/* 0 */,
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(Stats, dat, THREE) {\n\nvar CONST = {\n    PI: 3.141592653\n    // init stats monitor\n};function initStats() {\n\n    var stats = new Stats();\n    stats.setMode(0); // 0: fps, 1: ms\n\n    stats.domElement.style.position = 'absolute';\n    stats.domElement.style.left = '0px';\n    stats.domElement.style.top = '0px';\n\n    document.getElementById(\"Stats-output\").appendChild(stats.domElement);\n\n    return stats;\n}\nfunction gui(controls) {\n    dat;\n    var gui = new dat.default.GUI();\n    var res = {};\n    for (var _iterator = Object.keys(controls), _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n        var _ref;\n\n        if (_isArray) {\n            if (_i >= _iterator.length) break;\n            _ref = _iterator[_i++];\n        } else {\n            _i = _iterator.next();\n            if (_i.done) break;\n            _ref = _i.value;\n        }\n\n        var c = _ref;\n\n        if (c === 'update') continue;\n\n        if (typeof controls[c] === 'function') {\n            res[c] = controls[c];\n            gui.add(res, c);\n        } else {\n            res[c] = controls[c].value;\n\n            gui.add(res, c, controls[c].min, controls[c].max).onChange(controls.update);\n        }\n    }\n    return res;\n}\n// 鼠标移动加速度 决定了主体旋转角度跟速度\nvar _moveXA = 0;\nvar _moveYA = 0;\nvar _moveMaxSpeed = 200; // max\nfunction _mousemoveListener(event) {\n\n    if (Math.abs(event.movementX) > _moveMaxSpeed) _moveXA = _moveMaxSpeed * (event.movementX > 0 ? 1 : -1);else if (Math.abs(event.movementX) > Math.abs(_moveXA)) _moveXA = event.movementX;else if (_moveXA * event.movementX < 0) _moveXA += event.movementX;\n\n    if (Math.abs(event.movementY) > _moveMaxSpeed) _moveYA = _moveMaxSpeed * (event.movementY > 0 ? 1 : -1);else if (Math.abs(event.movementY) > Math.abs(_moveYA)) _moveYA = event.movementY;else if (_moveYA * event.movementY < 0) _moveYA += event.movementY;\n}\nvar scene;\nvar meshes = new THREE.Group();\nvar nextMeshes = new THREE.Group();\n\nvar _process = [{\n    geom: function geom() {\n        return [new Box()];\n    },\n    position: new THREE.Vector3(10, 10, 0)\n}, {\n    geom: function geom() {\n        return [new Circle()];\n    },\n    position: new THREE.Vector3(-10, -10, 0)\n}, {\n    geom: function geom() {\n        return [new Box({ x: 20, y: 20, z: 20, position: new THREE.Vector3(10, 10, 0) })];\n    },\n    position: new THREE.Vector3(-10, -10, 0)\n}];\n\nfunction init() {\n\n    var stats = initStats();\n\n    scene = new THREE.Scene();\n    scene.background = new THREE.Color(0x000104);\n\n    var camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);\n\n    var webGLRenderer = new THREE.WebGLRenderer();\n    webGLRenderer.setClearColor(new THREE.Color(0xeeeeee, 1.0));\n    webGLRenderer.setSize(window.innerWidth, window.innerHeight);\n    webGLRenderer.shadowMap.enabled = true;\n    camera.position.z = 80;\n    camera.position.y = 2;\n    document.getElementById(\"main-canvas\").appendChild(webGLRenderer.domElement);\n    webGLRenderer.domElement.addEventListener('mousemove', _mousemoveListener, false);\n\n    // add once . change meshes' attr after\n    var ms = _process[0];\n    //meshes.position = ms.position\n    ms.geom().forEach(function (g) {\n        meshes.add(g);\n    });\n    scene.add(meshes);\n\n    var fog;\n    var controls = {};\n    var dust;\n\n    var draw = function draw(d) {\n\n        if (dust) {\n            scene.remove(dust);\n        }\n        console.log('----redraw----');\n\n        scene.add(dust = new Dust({ speed: controls.dustSpeed }));\n        fog = new THREE.FogExp2(328972, 5e-4);\n        if (controls.hasFog) {\n            scene.fog = fog;\n        }\n        webGLRenderer.render(scene, camera);\n    };\n    var _slideIndex = 1;\n    var _slideLock = false;\n    controls = gui({\n        pause: {\n            value: 4,\n            min: 0,\n            max: 30\n        },\n        rotation: {\n            value: 0.0005,\n            min: 0,\n            max: 0.1\n        },\n        hasFog: {\n            value: true\n        },\n        dustSpeed: {\n            value: 0.04,\n            min: 0,\n            max: 0.1\n        },\n        update: function update() {\n            draw();\n        },\n        slide: function slide() {\n            if (_slideLock) return;\n            _slideIndex = _slideIndex % _process.length;\n            var ms = _process[_slideIndex];\n            nextMeshes = new THREE.Group();\n            //nextMeshes.position = ms.position\n            ms.geom().forEach(function (g) {\n                nextMeshes.add(g);\n            });\n            //scene.add(nextMeshes[0])\n            slideTo(meshes, nextMeshes);\n            _slideIndex++;\n        }\n    });\n\n    draw();\n\n    loop();\n\n    var pause = controls.pause;\n    var maxRotation = CONST.PI / 8; //radian\n    function loop() {\n        stats.update();\n        if (pause < 0) {\n            meshes.rotation.y += controls.rotation * _moveXA / 20;\n            meshes.rotation.x += controls.rotation * _moveYA / 20;\n\n            pause = controls.pause;\n            _moveXA = _moveXA - controls.rotation * (_moveXA > 0 ? 1 : -1);\n            _moveYA = _moveYA - controls.rotation * (_moveYA > 0 ? 1 : -1);\n        }\n        pause--;\n\n        dust.move();\n\n        requestAnimationFrame(loop);\n        webGLRenderer.render(scene, camera);\n    }\n}\n\n// 点点的texture\nfunction dotTexture() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref2$size = _ref2.size,\n        size = _ref2$size === undefined ? 4 : _ref2$size;\n\n    var canvas = document.createElement('canvas');\n    canvas.width = size;\n    canvas.height = size;\n\n    var context = canvas.getContext('2d');\n    var gradient = context.createRadialGradient(canvas.width / 2, canvas.height / 2, 0, canvas.width / 2, canvas.height / 2, canvas.width / 2);\n    gradient.addColorStop(0, 'rgba(255,255,255,1)');\n    gradient.addColorStop(0.5, 'rgba(255,255,255,1)');\n    gradient.addColorStop(0.7, 'rgba(70,70,70,1)');\n    gradient.addColorStop(1, 'rgba(0,0,0,1)');\n\n    context.fillStyle = gradient;\n    context.fillRect(0, 0, canvas.width, canvas.height);\n\n    var texture = new THREE.Texture(canvas);\n    texture.needsUpdate = true;\n    return texture;\n}\n\nfunction PointsColors(vertexLen) {\n    var arr = [];\n    for (var i = 0; i < vertexLen; i++) {\n        if (Math.random() > 0.9) arr.push(new THREE.Color(0x99ffff));else if (Math.random() > 0.85) arr.push(new THREE.Color(0xff99ff));else arr.push(new THREE.Color(0xffffff));\n    }\n    return arr;\n}\n\nfunction NormalPoints() {\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        geometry = _ref3.geometry,\n        position = _ref3.position;\n\n    var points = new THREE.Points(geometry, new THREE.PointsMaterial({\n        size: 0.7,\n        //color: 0xffffff,\n        vertexColors: THREE.VertexColors,\n        map: dotTexture()\n    }));\n    //debugger\n    //points.position = position\n    return points;\n}\nfunction Circle() {\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref4$radius = _ref4.radius,\n        radius = _ref4$radius === undefined ? 10 : _ref4$radius,\n        _ref4$gap = _ref4.gap,\n        gap = _ref4$gap === undefined ? 35 : _ref4$gap,\n        _ref4$position = _ref4.position,\n        position = _ref4$position === undefined ? new THREE.Vector3() : _ref4$position;\n\n    var geometry = new THREE.SphereGeometry(radius, gap, gap);\n    geometry.colors = PointsColors(geometry.vertices.length);\n    geometry.colorsNeedUpdate = true;\n\n    //debugger\n    return NormalPoints({ geometry: geometry, position: position });\n}\n\nfunction Box() {\n    var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref5$x = _ref5.x,\n        x = _ref5$x === undefined ? 30 : _ref5$x,\n        _ref5$y = _ref5.y,\n        y = _ref5$y === undefined ? 30 : _ref5$y,\n        _ref5$z = _ref5.z,\n        z = _ref5$z === undefined ? 30 : _ref5$z,\n        _ref5$position = _ref5.position,\n        position = _ref5$position === undefined ? new THREE.Vector3() : _ref5$position,\n        _ref5$gap = _ref5.gap,\n        gap = _ref5$gap === undefined ? 15 : _ref5$gap;\n\n    var geometry = new THREE.BoxGeometry(x, y, z, gap, gap, gap);\n    geometry.colors = PointsColors(geometry.vertices.length);\n    geometry.colorsNeedUpdate = true;\n\n    return NormalPoints({ geometry: geometry, position: position });\n}\n\nfunction Dust() {\n    var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref6$num = _ref6.num,\n        num = _ref6$num === undefined ? 500 : _ref6$num,\n        _ref6$speed = _ref6.speed,\n        speed = _ref6$speed === undefined ? 0.05 : _ref6$speed;\n\n    var geometry = new THREE.Geometry();\n    var colors = [];\n    for (var i = 0; i < num; i++) {\n        var vertex = new THREE.Vector3();\n        vertex.x = 100 * Math.random() - 50;\n        vertex.y = 100 * Math.random() - 50;\n        vertex.z = 100 * Math.random() - 70;\n        vertex._a = Math.random() * speed - speed / 2;\n        vertex._b = Math.random() * speed - speed / 2;\n\n        geometry.vertices.push(vertex);\n        colors[i] = new THREE.Color(0xffffff);\n        //colors[ i ].setHSL( ( vertex.x + 1000 ) / 2000, 1, 0.5 );\n    }\n    geometry.colors = colors;\n    geometry.colorsNeedUpdate = true;\n\n    //this = NormalPoints({geometry})\n    var reverse = false;\n\n    setInterval(function () {\n        for (var _i2 = 0; _i2 < num; _i2++) {\n            var pos = geometry.vertices[_i2];\n            pos._a = -pos._a;\n            pos._b = -pos._b;\n        }\n    }, 20000);\n\n    return Object.assign(NormalPoints({ geometry: geometry }), {\n        move: function move() {\n\n            for (var _i3 = 0; _i3 < num; _i3++) {\n                var pos = geometry.vertices[_i3];\n                pos.x += pos._a;\n                pos.y += pos._b;\n            }\n            geometry.verticesNeedUpdate = true;\n        }\n    });\n}\n\nfunction slideTo(points1, points2) {\n\n    var nextVertices = [];\n    points2.children.forEach(function (points) {\n        nextVertices = nextVertices.concat(points.geometry.vertices);\n    });\n\n    var nl = nextVertices.length;\n    var moveTo = function moveTo(pos, des, interval, geometry) {\n        //debugger\n        var speedX = (pos.x - des.x) / interval;\n        var speedY = (pos.y - des.y) / interval;\n        var speedZ = (pos.z - des.z) / interval;\n        var cancel = void 0;\n        var run = function run() {\n            if (Math.abs(pos.x - des.x) < 0.01) {\n                cancelAnimationFrame(cancel);\n                return;\n            }\n            pos.x -= speedX;\n            pos.y -= speedY;\n            pos.z -= speedZ;\n            geometry.verticesNeedUpdate = true;\n            requestAnimationFrame(run);\n        };\n\n        cancel = requestAnimationFrame(run);\n    };\n    var i = 0;\n    mess(nextVertices);\n    var full = false;\n    points1.children.forEach(function (points) {\n        var geom = points.geometry;\n        var vertices = geom.vertices;\n        vertices.forEach(function (vertice) {\n\n            ;(function (i) {\n                var delay = Math.random();\n                setTimeout(function () {\n                    moveTo(vertice, nextVertices[i], 30, geom);\n                }, delay * 1000);\n            })(i);\n\n            i++;\n            if (i >= nl) {\n                i = 0;full = true;\n            }\n        });\n    });\n\n    if (!full) {\n        // for(i; i < nextVertices.length; i ++){\n        //     let delay = Math.random()\n\n        //     setTimeout((i) => {\n        //         points1.children[0].geometry.vertices.push(nextVertices[i])\n        //     },delay * 1000)\n        // }\n    }\n\n    setTimeout(function () {\n        points1.children = [];\n        //scene.remove(points1)\n        points2.setRotationFromEuler(points1.rotation.clone());\n        //scene.add(points2)\n        scene.remove(meshes);\n        meshes = points2;\n        scene.add(meshes);\n\n        // 咋确定帧间隔时间啊？？？？\n    }, 30 * 16.7 + 1000);\n}\n\n// mess a array\nfunction mess(arr) {\n    var newArr = [];\n    arr.sort(function () {\n        return 0.5 - Math.random();\n    });\n}\ninit();\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2), __webpack_require__(3), __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9wYWdlL3J1bl9ydW5fcGFydGljbGUvaW5kZXguanM/MDQ1MSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBDT05TVCA9IHtcbiAgICBQSTogMy4xNDE1OTI2NTNcbiAgICAvLyBpbml0IHN0YXRzIG1vbml0b3Jcbn07ZnVuY3Rpb24gaW5pdFN0YXRzKCkge1xuXG4gICAgdmFyIHN0YXRzID0gbmV3IFN0YXRzKCk7XG4gICAgc3RhdHMuc2V0TW9kZSgwKTsgLy8gMDogZnBzLCAxOiBtc1xuXG4gICAgc3RhdHMuZG9tRWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgc3RhdHMuZG9tRWxlbWVudC5zdHlsZS5sZWZ0ID0gJzBweCc7XG4gICAgc3RhdHMuZG9tRWxlbWVudC5zdHlsZS50b3AgPSAnMHB4JztcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiU3RhdHMtb3V0cHV0XCIpLmFwcGVuZENoaWxkKHN0YXRzLmRvbUVsZW1lbnQpO1xuXG4gICAgcmV0dXJuIHN0YXRzO1xufVxuZnVuY3Rpb24gZ3VpKGNvbnRyb2xzKSB7XG4gICAgZGF0O1xuICAgIHZhciBndWkgPSBuZXcgZGF0LmRlZmF1bHQuR1VJKCk7XG4gICAgdmFyIHJlcyA9IHt9O1xuICAgIGZvciAodmFyIF9pdGVyYXRvciA9IE9iamVjdC5rZXlzKGNvbnRyb2xzKSwgX2lzQXJyYXkgPSBBcnJheS5pc0FycmF5KF9pdGVyYXRvciksIF9pID0gMCwgX2l0ZXJhdG9yID0gX2lzQXJyYXkgPyBfaXRlcmF0b3IgOiBfaXRlcmF0b3JbU3ltYm9sLml0ZXJhdG9yXSgpOzspIHtcbiAgICAgICAgdmFyIF9yZWY7XG5cbiAgICAgICAgaWYgKF9pc0FycmF5KSB7XG4gICAgICAgICAgICBpZiAoX2kgPj0gX2l0ZXJhdG9yLmxlbmd0aCkgYnJlYWs7XG4gICAgICAgICAgICBfcmVmID0gX2l0ZXJhdG9yW19pKytdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgX2kgPSBfaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgICAgaWYgKF9pLmRvbmUpIGJyZWFrO1xuICAgICAgICAgICAgX3JlZiA9IF9pLnZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGMgPSBfcmVmO1xuXG4gICAgICAgIGlmIChjID09PSAndXBkYXRlJykgY29udGludWU7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjb250cm9sc1tjXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmVzW2NdID0gY29udHJvbHNbY107XG4gICAgICAgICAgICBndWkuYWRkKHJlcywgYyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNbY10gPSBjb250cm9sc1tjXS52YWx1ZTtcblxuICAgICAgICAgICAgZ3VpLmFkZChyZXMsIGMsIGNvbnRyb2xzW2NdLm1pbiwgY29udHJvbHNbY10ubWF4KS5vbkNoYW5nZShjb250cm9scy51cGRhdGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG4vLyDpvKDmoIfnp7vliqjliqDpgJ/luqYg5Yaz5a6a5LqG5Li75L2T5peL6L2s6KeS5bqm6Lef6YCf5bqmXG52YXIgX21vdmVYQSA9IDA7XG52YXIgX21vdmVZQSA9IDA7XG52YXIgX21vdmVNYXhTcGVlZCA9IDIwMDsgLy8gbWF4XG5mdW5jdGlvbiBfbW91c2Vtb3ZlTGlzdGVuZXIoZXZlbnQpIHtcblxuICAgIGlmIChNYXRoLmFicyhldmVudC5tb3ZlbWVudFgpID4gX21vdmVNYXhTcGVlZCkgX21vdmVYQSA9IF9tb3ZlTWF4U3BlZWQgKiAoZXZlbnQubW92ZW1lbnRYID4gMCA/IDEgOiAtMSk7ZWxzZSBpZiAoTWF0aC5hYnMoZXZlbnQubW92ZW1lbnRYKSA+IE1hdGguYWJzKF9tb3ZlWEEpKSBfbW92ZVhBID0gZXZlbnQubW92ZW1lbnRYO2Vsc2UgaWYgKF9tb3ZlWEEgKiBldmVudC5tb3ZlbWVudFggPCAwKSBfbW92ZVhBICs9IGV2ZW50Lm1vdmVtZW50WDtcblxuICAgIGlmIChNYXRoLmFicyhldmVudC5tb3ZlbWVudFkpID4gX21vdmVNYXhTcGVlZCkgX21vdmVZQSA9IF9tb3ZlTWF4U3BlZWQgKiAoZXZlbnQubW92ZW1lbnRZID4gMCA/IDEgOiAtMSk7ZWxzZSBpZiAoTWF0aC5hYnMoZXZlbnQubW92ZW1lbnRZKSA+IE1hdGguYWJzKF9tb3ZlWUEpKSBfbW92ZVlBID0gZXZlbnQubW92ZW1lbnRZO2Vsc2UgaWYgKF9tb3ZlWUEgKiBldmVudC5tb3ZlbWVudFkgPCAwKSBfbW92ZVlBICs9IGV2ZW50Lm1vdmVtZW50WTtcbn1cbnZhciBzY2VuZTtcbnZhciBtZXNoZXMgPSBuZXcgVEhSRUUuR3JvdXAoKTtcbnZhciBuZXh0TWVzaGVzID0gbmV3IFRIUkVFLkdyb3VwKCk7XG5cbnZhciBfcHJvY2VzcyA9IFt7XG4gICAgZ2VvbTogZnVuY3Rpb24gZ2VvbSgpIHtcbiAgICAgICAgcmV0dXJuIFtuZXcgQm94KCldO1xuICAgIH0sXG4gICAgcG9zaXRpb246IG5ldyBUSFJFRS5WZWN0b3IzKDEwLCAxMCwgMClcbn0sIHtcbiAgICBnZW9tOiBmdW5jdGlvbiBnZW9tKCkge1xuICAgICAgICByZXR1cm4gW25ldyBDaXJjbGUoKV07XG4gICAgfSxcbiAgICBwb3NpdGlvbjogbmV3IFRIUkVFLlZlY3RvcjMoLTEwLCAtMTAsIDApXG59LCB7XG4gICAgZ2VvbTogZnVuY3Rpb24gZ2VvbSgpIHtcbiAgICAgICAgcmV0dXJuIFtuZXcgQm94KHsgeDogMjAsIHk6IDIwLCB6OiAyMCwgcG9zaXRpb246IG5ldyBUSFJFRS5WZWN0b3IzKDEwLCAxMCwgMCkgfSldO1xuICAgIH0sXG4gICAgcG9zaXRpb246IG5ldyBUSFJFRS5WZWN0b3IzKC0xMCwgLTEwLCAwKVxufV07XG5cbmZ1bmN0aW9uIGluaXQoKSB7XG5cbiAgICB2YXIgc3RhdHMgPSBpbml0U3RhdHMoKTtcblxuICAgIHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gICAgc2NlbmUuYmFja2dyb3VuZCA9IG5ldyBUSFJFRS5Db2xvcigweDAwMDEwNCk7XG5cbiAgICB2YXIgY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKDQ1LCB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodCwgMC4xLCAxMDAwKTtcblxuICAgIHZhciB3ZWJHTFJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoKTtcbiAgICB3ZWJHTFJlbmRlcmVyLnNldENsZWFyQ29sb3IobmV3IFRIUkVFLkNvbG9yKDB4ZWVlZWVlLCAxLjApKTtcbiAgICB3ZWJHTFJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgd2ViR0xSZW5kZXJlci5zaGFkb3dNYXAuZW5hYmxlZCA9IHRydWU7XG4gICAgY2FtZXJhLnBvc2l0aW9uLnogPSA4MDtcbiAgICBjYW1lcmEucG9zaXRpb24ueSA9IDI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluLWNhbnZhc1wiKS5hcHBlbmRDaGlsZCh3ZWJHTFJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuICAgIHdlYkdMUmVuZGVyZXIuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBfbW91c2Vtb3ZlTGlzdGVuZXIsIGZhbHNlKTtcblxuICAgIC8vIGFkZCBvbmNlIC4gY2hhbmdlIG1lc2hlcycgYXR0ciBhZnRlclxuICAgIHZhciBtcyA9IF9wcm9jZXNzWzBdO1xuICAgIC8vbWVzaGVzLnBvc2l0aW9uID0gbXMucG9zaXRpb25cbiAgICBtcy5nZW9tKCkuZm9yRWFjaChmdW5jdGlvbiAoZykge1xuICAgICAgICBtZXNoZXMuYWRkKGcpO1xuICAgIH0pO1xuICAgIHNjZW5lLmFkZChtZXNoZXMpO1xuXG4gICAgdmFyIGZvZztcbiAgICB2YXIgY29udHJvbHMgPSB7fTtcbiAgICB2YXIgZHVzdDtcblxuICAgIHZhciBkcmF3ID0gZnVuY3Rpb24gZHJhdyhkKSB7XG5cbiAgICAgICAgaWYgKGR1c3QpIHtcbiAgICAgICAgICAgIHNjZW5lLnJlbW92ZShkdXN0KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZygnLS0tLXJlZHJhdy0tLS0nKTtcblxuICAgICAgICBzY2VuZS5hZGQoZHVzdCA9IG5ldyBEdXN0KHsgc3BlZWQ6IGNvbnRyb2xzLmR1c3RTcGVlZCB9KSk7XG4gICAgICAgIGZvZyA9IG5ldyBUSFJFRS5Gb2dFeHAyKDMyODk3MiwgNWUtNCk7XG4gICAgICAgIGlmIChjb250cm9scy5oYXNGb2cpIHtcbiAgICAgICAgICAgIHNjZW5lLmZvZyA9IGZvZztcbiAgICAgICAgfVxuICAgICAgICB3ZWJHTFJlbmRlcmVyLnJlbmRlcihzY2VuZSwgY2FtZXJhKTtcbiAgICB9O1xuICAgIHZhciBfc2xpZGVJbmRleCA9IDE7XG4gICAgdmFyIF9zbGlkZUxvY2sgPSBmYWxzZTtcbiAgICBjb250cm9scyA9IGd1aSh7XG4gICAgICAgIHBhdXNlOiB7XG4gICAgICAgICAgICB2YWx1ZTogNCxcbiAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgIG1heDogMzBcbiAgICAgICAgfSxcbiAgICAgICAgcm90YXRpb246IHtcbiAgICAgICAgICAgIHZhbHVlOiAwLjAwMDUsXG4gICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICBtYXg6IDAuMVxuICAgICAgICB9LFxuICAgICAgICBoYXNGb2c6IHtcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIGR1c3RTcGVlZDoge1xuICAgICAgICAgICAgdmFsdWU6IDAuMDQsXG4gICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICBtYXg6IDAuMVxuICAgICAgICB9LFxuICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgICAgIGRyYXcoKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2xpZGU6IGZ1bmN0aW9uIHNsaWRlKCkge1xuICAgICAgICAgICAgaWYgKF9zbGlkZUxvY2spIHJldHVybjtcbiAgICAgICAgICAgIF9zbGlkZUluZGV4ID0gX3NsaWRlSW5kZXggJSBfcHJvY2Vzcy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgbXMgPSBfcHJvY2Vzc1tfc2xpZGVJbmRleF07XG4gICAgICAgICAgICBuZXh0TWVzaGVzID0gbmV3IFRIUkVFLkdyb3VwKCk7XG4gICAgICAgICAgICAvL25leHRNZXNoZXMucG9zaXRpb24gPSBtcy5wb3NpdGlvblxuICAgICAgICAgICAgbXMuZ2VvbSgpLmZvckVhY2goZnVuY3Rpb24gKGcpIHtcbiAgICAgICAgICAgICAgICBuZXh0TWVzaGVzLmFkZChnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy9zY2VuZS5hZGQobmV4dE1lc2hlc1swXSlcbiAgICAgICAgICAgIHNsaWRlVG8obWVzaGVzLCBuZXh0TWVzaGVzKTtcbiAgICAgICAgICAgIF9zbGlkZUluZGV4Kys7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGRyYXcoKTtcblxuICAgIGxvb3AoKTtcblxuICAgIHZhciBwYXVzZSA9IGNvbnRyb2xzLnBhdXNlO1xuICAgIHZhciBtYXhSb3RhdGlvbiA9IENPTlNULlBJIC8gODsgLy9yYWRpYW5cbiAgICBmdW5jdGlvbiBsb29wKCkge1xuICAgICAgICBzdGF0cy51cGRhdGUoKTtcbiAgICAgICAgaWYgKHBhdXNlIDwgMCkge1xuICAgICAgICAgICAgbWVzaGVzLnJvdGF0aW9uLnkgKz0gY29udHJvbHMucm90YXRpb24gKiBfbW92ZVhBIC8gMjA7XG4gICAgICAgICAgICBtZXNoZXMucm90YXRpb24ueCArPSBjb250cm9scy5yb3RhdGlvbiAqIF9tb3ZlWUEgLyAyMDtcblxuICAgICAgICAgICAgcGF1c2UgPSBjb250cm9scy5wYXVzZTtcbiAgICAgICAgICAgIF9tb3ZlWEEgPSBfbW92ZVhBIC0gY29udHJvbHMucm90YXRpb24gKiAoX21vdmVYQSA+IDAgPyAxIDogLTEpO1xuICAgICAgICAgICAgX21vdmVZQSA9IF9tb3ZlWUEgLSBjb250cm9scy5yb3RhdGlvbiAqIChfbW92ZVlBID4gMCA/IDEgOiAtMSk7XG4gICAgICAgIH1cbiAgICAgICAgcGF1c2UtLTtcblxuICAgICAgICBkdXN0Lm1vdmUoKTtcblxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XG4gICAgICAgIHdlYkdMUmVuZGVyZXIucmVuZGVyKHNjZW5lLCBjYW1lcmEpO1xuICAgIH1cbn1cblxuLy8g54K554K555qEdGV4dHVyZVxuZnVuY3Rpb24gZG90VGV4dHVyZSgpIHtcbiAgICB2YXIgX3JlZjIgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LFxuICAgICAgICBfcmVmMiRzaXplID0gX3JlZjIuc2l6ZSxcbiAgICAgICAgc2l6ZSA9IF9yZWYyJHNpemUgPT09IHVuZGVmaW5lZCA/IDQgOiBfcmVmMiRzaXplO1xuXG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGNhbnZhcy53aWR0aCA9IHNpemU7XG4gICAgY2FudmFzLmhlaWdodCA9IHNpemU7XG5cbiAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIHZhciBncmFkaWVudCA9IGNvbnRleHQuY3JlYXRlUmFkaWFsR3JhZGllbnQoY2FudmFzLndpZHRoIC8gMiwgY2FudmFzLmhlaWdodCAvIDIsIDAsIGNhbnZhcy53aWR0aCAvIDIsIGNhbnZhcy5oZWlnaHQgLyAyLCBjYW52YXMud2lkdGggLyAyKTtcbiAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMCwgJ3JnYmEoMjU1LDI1NSwyNTUsMSknKTtcbiAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMC41LCAncmdiYSgyNTUsMjU1LDI1NSwxKScpO1xuICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcCgwLjcsICdyZ2JhKDcwLDcwLDcwLDEpJyk7XG4gICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKDEsICdyZ2JhKDAsMCwwLDEpJyk7XG5cbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGdyYWRpZW50O1xuICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblxuICAgIHZhciB0ZXh0dXJlID0gbmV3IFRIUkVFLlRleHR1cmUoY2FudmFzKTtcbiAgICB0ZXh0dXJlLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICByZXR1cm4gdGV4dHVyZTtcbn1cblxuZnVuY3Rpb24gUG9pbnRzQ29sb3JzKHZlcnRleExlbikge1xuICAgIHZhciBhcnIgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRleExlbjsgaSsrKSB7XG4gICAgICAgIGlmIChNYXRoLnJhbmRvbSgpID4gMC45KSBhcnIucHVzaChuZXcgVEhSRUUuQ29sb3IoMHg5OWZmZmYpKTtlbHNlIGlmIChNYXRoLnJhbmRvbSgpID4gMC44NSkgYXJyLnB1c2gobmV3IFRIUkVFLkNvbG9yKDB4ZmY5OWZmKSk7ZWxzZSBhcnIucHVzaChuZXcgVEhSRUUuQ29sb3IoMHhmZmZmZmYpKTtcbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbn1cblxuZnVuY3Rpb24gTm9ybWFsUG9pbnRzKCkge1xuICAgIHZhciBfcmVmMyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge30sXG4gICAgICAgIGdlb21ldHJ5ID0gX3JlZjMuZ2VvbWV0cnksXG4gICAgICAgIHBvc2l0aW9uID0gX3JlZjMucG9zaXRpb247XG5cbiAgICB2YXIgcG9pbnRzID0gbmV3IFRIUkVFLlBvaW50cyhnZW9tZXRyeSwgbmV3IFRIUkVFLlBvaW50c01hdGVyaWFsKHtcbiAgICAgICAgc2l6ZTogMC43LFxuICAgICAgICAvL2NvbG9yOiAweGZmZmZmZixcbiAgICAgICAgdmVydGV4Q29sb3JzOiBUSFJFRS5WZXJ0ZXhDb2xvcnMsXG4gICAgICAgIG1hcDogZG90VGV4dHVyZSgpXG4gICAgfSkpO1xuICAgIC8vZGVidWdnZXJcbiAgICAvL3BvaW50cy5wb3NpdGlvbiA9IHBvc2l0aW9uXG4gICAgcmV0dXJuIHBvaW50cztcbn1cbmZ1bmN0aW9uIENpcmNsZSgpIHtcbiAgICB2YXIgX3JlZjQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LFxuICAgICAgICBfcmVmNCRyYWRpdXMgPSBfcmVmNC5yYWRpdXMsXG4gICAgICAgIHJhZGl1cyA9IF9yZWY0JHJhZGl1cyA9PT0gdW5kZWZpbmVkID8gMTAgOiBfcmVmNCRyYWRpdXMsXG4gICAgICAgIF9yZWY0JGdhcCA9IF9yZWY0LmdhcCxcbiAgICAgICAgZ2FwID0gX3JlZjQkZ2FwID09PSB1bmRlZmluZWQgPyAzNSA6IF9yZWY0JGdhcCxcbiAgICAgICAgX3JlZjQkcG9zaXRpb24gPSBfcmVmNC5wb3NpdGlvbixcbiAgICAgICAgcG9zaXRpb24gPSBfcmVmNCRwb3NpdGlvbiA9PT0gdW5kZWZpbmVkID8gbmV3IFRIUkVFLlZlY3RvcjMoKSA6IF9yZWY0JHBvc2l0aW9uO1xuXG4gICAgdmFyIGdlb21ldHJ5ID0gbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KHJhZGl1cywgZ2FwLCBnYXApO1xuICAgIGdlb21ldHJ5LmNvbG9ycyA9IFBvaW50c0NvbG9ycyhnZW9tZXRyeS52ZXJ0aWNlcy5sZW5ndGgpO1xuICAgIGdlb21ldHJ5LmNvbG9yc05lZWRVcGRhdGUgPSB0cnVlO1xuXG4gICAgLy9kZWJ1Z2dlclxuICAgIHJldHVybiBOb3JtYWxQb2ludHMoeyBnZW9tZXRyeTogZ2VvbWV0cnksIHBvc2l0aW9uOiBwb3NpdGlvbiB9KTtcbn1cblxuZnVuY3Rpb24gQm94KCkge1xuICAgIHZhciBfcmVmNSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge30sXG4gICAgICAgIF9yZWY1JHggPSBfcmVmNS54LFxuICAgICAgICB4ID0gX3JlZjUkeCA9PT0gdW5kZWZpbmVkID8gMzAgOiBfcmVmNSR4LFxuICAgICAgICBfcmVmNSR5ID0gX3JlZjUueSxcbiAgICAgICAgeSA9IF9yZWY1JHkgPT09IHVuZGVmaW5lZCA/IDMwIDogX3JlZjUkeSxcbiAgICAgICAgX3JlZjUkeiA9IF9yZWY1LnosXG4gICAgICAgIHogPSBfcmVmNSR6ID09PSB1bmRlZmluZWQgPyAzMCA6IF9yZWY1JHosXG4gICAgICAgIF9yZWY1JHBvc2l0aW9uID0gX3JlZjUucG9zaXRpb24sXG4gICAgICAgIHBvc2l0aW9uID0gX3JlZjUkcG9zaXRpb24gPT09IHVuZGVmaW5lZCA/IG5ldyBUSFJFRS5WZWN0b3IzKCkgOiBfcmVmNSRwb3NpdGlvbixcbiAgICAgICAgX3JlZjUkZ2FwID0gX3JlZjUuZ2FwLFxuICAgICAgICBnYXAgPSBfcmVmNSRnYXAgPT09IHVuZGVmaW5lZCA/IDE1IDogX3JlZjUkZ2FwO1xuXG4gICAgdmFyIGdlb21ldHJ5ID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KHgsIHksIHosIGdhcCwgZ2FwLCBnYXApO1xuICAgIGdlb21ldHJ5LmNvbG9ycyA9IFBvaW50c0NvbG9ycyhnZW9tZXRyeS52ZXJ0aWNlcy5sZW5ndGgpO1xuICAgIGdlb21ldHJ5LmNvbG9yc05lZWRVcGRhdGUgPSB0cnVlO1xuXG4gICAgcmV0dXJuIE5vcm1hbFBvaW50cyh7IGdlb21ldHJ5OiBnZW9tZXRyeSwgcG9zaXRpb246IHBvc2l0aW9uIH0pO1xufVxuXG5mdW5jdGlvbiBEdXN0KCkge1xuICAgIHZhciBfcmVmNiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge30sXG4gICAgICAgIF9yZWY2JG51bSA9IF9yZWY2Lm51bSxcbiAgICAgICAgbnVtID0gX3JlZjYkbnVtID09PSB1bmRlZmluZWQgPyA1MDAgOiBfcmVmNiRudW0sXG4gICAgICAgIF9yZWY2JHNwZWVkID0gX3JlZjYuc3BlZWQsXG4gICAgICAgIHNwZWVkID0gX3JlZjYkc3BlZWQgPT09IHVuZGVmaW5lZCA/IDAuMDUgOiBfcmVmNiRzcGVlZDtcblxuICAgIHZhciBnZW9tZXRyeSA9IG5ldyBUSFJFRS5HZW9tZXRyeSgpO1xuICAgIHZhciBjb2xvcnMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bTsgaSsrKSB7XG4gICAgICAgIHZhciB2ZXJ0ZXggPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgICAgICB2ZXJ0ZXgueCA9IDEwMCAqIE1hdGgucmFuZG9tKCkgLSA1MDtcbiAgICAgICAgdmVydGV4LnkgPSAxMDAgKiBNYXRoLnJhbmRvbSgpIC0gNTA7XG4gICAgICAgIHZlcnRleC56ID0gMTAwICogTWF0aC5yYW5kb20oKSAtIDcwO1xuICAgICAgICB2ZXJ0ZXguX2EgPSBNYXRoLnJhbmRvbSgpICogc3BlZWQgLSBzcGVlZCAvIDI7XG4gICAgICAgIHZlcnRleC5fYiA9IE1hdGgucmFuZG9tKCkgKiBzcGVlZCAtIHNwZWVkIC8gMjtcblxuICAgICAgICBnZW9tZXRyeS52ZXJ0aWNlcy5wdXNoKHZlcnRleCk7XG4gICAgICAgIGNvbG9yc1tpXSA9IG5ldyBUSFJFRS5Db2xvcigweGZmZmZmZik7XG4gICAgICAgIC8vY29sb3JzWyBpIF0uc2V0SFNMKCAoIHZlcnRleC54ICsgMTAwMCApIC8gMjAwMCwgMSwgMC41ICk7XG4gICAgfVxuICAgIGdlb21ldHJ5LmNvbG9ycyA9IGNvbG9ycztcbiAgICBnZW9tZXRyeS5jb2xvcnNOZWVkVXBkYXRlID0gdHJ1ZTtcblxuICAgIC8vdGhpcyA9IE5vcm1hbFBvaW50cyh7Z2VvbWV0cnl9KVxuICAgIHZhciByZXZlcnNlID0gZmFsc2U7XG5cbiAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IG51bTsgX2kyKyspIHtcbiAgICAgICAgICAgIHZhciBwb3MgPSBnZW9tZXRyeS52ZXJ0aWNlc1tfaTJdO1xuICAgICAgICAgICAgcG9zLl9hID0gLXBvcy5fYTtcbiAgICAgICAgICAgIHBvcy5fYiA9IC1wb3MuX2I7XG4gICAgICAgIH1cbiAgICB9LCAyMDAwMCk7XG5cbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihOb3JtYWxQb2ludHMoeyBnZW9tZXRyeTogZ2VvbWV0cnkgfSksIHtcbiAgICAgICAgbW92ZTogZnVuY3Rpb24gbW92ZSgpIHtcblxuICAgICAgICAgICAgZm9yICh2YXIgX2kzID0gMDsgX2kzIDwgbnVtOyBfaTMrKykge1xuICAgICAgICAgICAgICAgIHZhciBwb3MgPSBnZW9tZXRyeS52ZXJ0aWNlc1tfaTNdO1xuICAgICAgICAgICAgICAgIHBvcy54ICs9IHBvcy5fYTtcbiAgICAgICAgICAgICAgICBwb3MueSArPSBwb3MuX2I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnZW9tZXRyeS52ZXJ0aWNlc05lZWRVcGRhdGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHNsaWRlVG8ocG9pbnRzMSwgcG9pbnRzMikge1xuXG4gICAgdmFyIG5leHRWZXJ0aWNlcyA9IFtdO1xuICAgIHBvaW50czIuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAocG9pbnRzKSB7XG4gICAgICAgIG5leHRWZXJ0aWNlcyA9IG5leHRWZXJ0aWNlcy5jb25jYXQocG9pbnRzLmdlb21ldHJ5LnZlcnRpY2VzKTtcbiAgICB9KTtcblxuICAgIHZhciBubCA9IG5leHRWZXJ0aWNlcy5sZW5ndGg7XG4gICAgdmFyIG1vdmVUbyA9IGZ1bmN0aW9uIG1vdmVUbyhwb3MsIGRlcywgaW50ZXJ2YWwsIGdlb21ldHJ5KSB7XG4gICAgICAgIC8vZGVidWdnZXJcbiAgICAgICAgdmFyIHNwZWVkWCA9IChwb3MueCAtIGRlcy54KSAvIGludGVydmFsO1xuICAgICAgICB2YXIgc3BlZWRZID0gKHBvcy55IC0gZGVzLnkpIC8gaW50ZXJ2YWw7XG4gICAgICAgIHZhciBzcGVlZFogPSAocG9zLnogLSBkZXMueikgLyBpbnRlcnZhbDtcbiAgICAgICAgdmFyIGNhbmNlbCA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHJ1biA9IGZ1bmN0aW9uIHJ1bigpIHtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhwb3MueCAtIGRlcy54KSA8IDAuMDEpIHtcbiAgICAgICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShjYW5jZWwpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvcy54IC09IHNwZWVkWDtcbiAgICAgICAgICAgIHBvcy55IC09IHNwZWVkWTtcbiAgICAgICAgICAgIHBvcy56IC09IHNwZWVkWjtcbiAgICAgICAgICAgIGdlb21ldHJ5LnZlcnRpY2VzTmVlZFVwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocnVuKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjYW5jZWwgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocnVuKTtcbiAgICB9O1xuICAgIHZhciBpID0gMDtcbiAgICBtZXNzKG5leHRWZXJ0aWNlcyk7XG4gICAgdmFyIGZ1bGwgPSBmYWxzZTtcbiAgICBwb2ludHMxLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKHBvaW50cykge1xuICAgICAgICB2YXIgZ2VvbSA9IHBvaW50cy5nZW9tZXRyeTtcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gZ2VvbS52ZXJ0aWNlcztcbiAgICAgICAgdmVydGljZXMuZm9yRWFjaChmdW5jdGlvbiAodmVydGljZSkge1xuXG4gICAgICAgICAgICA7KGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlbGF5ID0gTWF0aC5yYW5kb20oKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbW92ZVRvKHZlcnRpY2UsIG5leHRWZXJ0aWNlc1tpXSwgMzAsIGdlb20pO1xuICAgICAgICAgICAgICAgIH0sIGRlbGF5ICogMTAwMCk7XG4gICAgICAgICAgICB9KShpKTtcblxuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgaWYgKGkgPj0gbmwpIHtcbiAgICAgICAgICAgICAgICBpID0gMDtmdWxsID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpZiAoIWZ1bGwpIHtcbiAgICAgICAgLy8gZm9yKGk7IGkgPCBuZXh0VmVydGljZXMubGVuZ3RoOyBpICsrKXtcbiAgICAgICAgLy8gICAgIGxldCBkZWxheSA9IE1hdGgucmFuZG9tKClcblxuICAgICAgICAvLyAgICAgc2V0VGltZW91dCgoaSkgPT4ge1xuICAgICAgICAvLyAgICAgICAgIHBvaW50czEuY2hpbGRyZW5bMF0uZ2VvbWV0cnkudmVydGljZXMucHVzaChuZXh0VmVydGljZXNbaV0pXG4gICAgICAgIC8vICAgICB9LGRlbGF5ICogMTAwMClcbiAgICAgICAgLy8gfVxuICAgIH1cblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBwb2ludHMxLmNoaWxkcmVuID0gW107XG4gICAgICAgIC8vc2NlbmUucmVtb3ZlKHBvaW50czEpXG4gICAgICAgIHBvaW50czIuc2V0Um90YXRpb25Gcm9tRXVsZXIocG9pbnRzMS5yb3RhdGlvbi5jbG9uZSgpKTtcbiAgICAgICAgLy9zY2VuZS5hZGQocG9pbnRzMilcbiAgICAgICAgc2NlbmUucmVtb3ZlKG1lc2hlcyk7XG4gICAgICAgIG1lc2hlcyA9IHBvaW50czI7XG4gICAgICAgIHNjZW5lLmFkZChtZXNoZXMpO1xuXG4gICAgICAgIC8vIOWSi+ehruWumuW4p+mXtOmalOaXtumXtOWViu+8n++8n++8n++8n1xuICAgIH0sIDMwICogMTYuNyArIDEwMDApO1xufVxuXG4vLyBtZXNzIGEgYXJyYXlcbmZ1bmN0aW9uIG1lc3MoYXJyKSB7XG4gICAgdmFyIG5ld0FyciA9IFtdO1xuICAgIGFyci5zb3J0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIDAuNSAtIE1hdGgucmFuZG9tKCk7XG4gICAgfSk7XG59XG5pbml0KCk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvcGFnZS9ydW5fcnVuX3BhcnRpY2xlL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1\n");

/***/ })
],[1]);